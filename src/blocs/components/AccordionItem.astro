---
import { Icon } from "astro-icon/components";

const { itemIcon, itemTitle, itemContent, rest } = Astro.props;
---

<details
	class="accordion-item"
	{...rest}
	data-js-accordion-item=""
>
	<summary
		class="accordion-item__header"
		data-js-accordion-summary=""
	>
		<span class="accordion-item__header-inner">
			<Icon
				width={32}
				height={32}
				name={`${itemIcon}`}
			/>
			<span class="accordion-item__header-title h2">{itemTitle}</span>
		</span>
		<Icon
			width={18}
			height={10}
			name="accordion-item-grey-arrow"
		/>
	</summary>
	<p
		class="accordion-item__info is-active"
		data-js-accordion-content=""
	>
		{itemContent}
	</p>
</details>

<style lang="scss">
	@use "@styles/helpers" as *;

	.accordion-item {
		border-block: 1px solid var(--color-white-400);

		&__header {
			display: flex;
			justify-content: space-between;
			align-items: center;
			padding: 12px fluid-big(20, 16) 16px;
			cursor: pointer;
			list-style: none;

			&::-webkit-details-marker {
				display: none;
			}

			&-inner {
				display: flex;
				gap: 16px;
			}

			&-title {
				font-size: fluid-big(24, 21);
			}
		}

		&__info {
			box-sizing: border-box;
			overflow: hidden;
			height: auto;
			padding: 0 32px 0 fluid-big(70, 60);
			transition:
				height var(--transition-duration) ease,
				padding var(--transition-duration) ease;

			&.is-active {
				padding-bottom: 20px;
			}
		}

		&:not([open]) {
			.accordion-item__header-title {
				color: var(--color-black-400);
			}
		}
	}
</style>
